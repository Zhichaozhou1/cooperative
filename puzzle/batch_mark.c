#include "lab.h"
struct timespec time_PC_gen;
int main(int argc, char* argv[])
{
	char msg_temp[20][1024] = {"4|45|eec64da4110de8fb98df73d7f52c95b732b273ad34b499f18ec9cc424901d7a2|MEQCIG0uW8C2Vjn695qQYh33j0X52vR19Cxrmp6GEQsJHjGZAiBP+tmt1FAMauGg/FoMMxKQ4X94qebkzTEQaOwU9BB4rw==|UQMp3Q==|BBRQkB6aGBpTmAtJbc/GVb7dY9h24ERIZ8IdgaNZ1VLoj/AD4FUobSGyCJrzUp1meCXsJIZAxrhoGTe8n2YMayw=|28749020|28878620|MEQCIBRsbjW9WK1RBTcwY/syy3Bz+KMPpIIWTWQ7RIVg4DO1AiBtpLfA048vtGZyX/5ulaQbsy+4knNJBRHvAx1qwTpYZA==|VuitP1OX","46|20|67a9ec3d339abf10f5799acb4817aad26b515247994296713cf33bed48f8b15d|MEQCICrMufSa/N7nOVg08gJm5PH+60vHk4dXUFp6l5UrCdQpAiBqgbuVnwIIyVcGMJAJRXLHerUb0OwzNMxw4jYZl1HhSA==|DnjDxg==|BH3N/BFhZBGhZCIu/sFwAfrOox3Cew681sRkVB5vY5BTjCwgQLf7DReuiXQaVFUhVAL5RdX07XgcQ7PnhTsNdlo=|28749020|28878620|MEQCIE+bzLykabnOSUqmmZ2WyoszG97d5fwDg4MOTfOh8jJ5AiA/7d0sDSSXFwsD33WSnHwd27DMJ8aab5oLF7vs4aUc2g==|JB2zoKxY", "2|45|25f7dd4e03c5903f6fb1c6abaf3b7164fcca60a0b4b7bfe5ddfc9f85ba2acfa7|MEYCIQCgHCBf3WmIUowpacn4I2w/H+kUeA1BdpLNG23QmoarNAIhAJE0deCZ1bASNEt0JrMbu/qhNBXtOZFYROALVzzStcRD|qoUVjg==|BIbD6Ii58POqJ9VQ9TGLscoJGLbtbN42tyfkyi7QwpOkoaReToz1X6XXLVfCcbDI+u0ow8cKyuTviOGeRL20kuA=|28749020|28878620|MEQCIGqqWQrX13u6Z14znd/elAFR+1K6wND1jphv9LALsI+FAiArFYeFEWaGKhzsiNW4fKrIvIMiD/LKA0jiDJ8xNNOFfQ==|UPXIZGMd", "36|31|9c1f84e7fb0fcbc2f6c16b1b81c01c263a3d7bb3870d7539a30b60dfb3b2cc1a|MEQCIDwNRMnEd7O3LSyuSTxlZ+N4BTRQc9j4fSEhODv4RP7/AiAaAU/g0aFubWt7ROBSJeXoWLZghFRwN9gfbIFzzbF/kw==|zy4jnA==|BJcLZM3krfS2ZswlkzakYKLV7hohKXJrBdi7dkMd2ZEeWcQAH1PlMKF+jY3aJEZ8b/8GKA5Wops/RWOp7WCDVyU=|28749020|28878620|MEUCIApjz5uls9J9kXH9eaDVBpItQi9GoFhftdKj1/upGZljAiEAiwdpSOIrVPD0/es5IRgU3CPfikxvL0+Hy14haX2b4rc=|tsTS4pqf", "40|28|b69aaef2808a511e7e1f524ea74522e5fa4f79b69a0c64fe2eb246641c8b05b1|MEQCIEGQNsubCRAU3QiszYTnzimMdWFbFR1wtii68ZAJyWqIAiBM6fMz2oa+4O6CD66pO4ujRfoOrO1VVjpMdWW4Z5rpEA==|j7NOKA==|BDCGj4WWbiMeIRceQtnkrItVl872633Xy8/eDTPz0P9LBIYbuT7cunQggDgR+LolwPp/zltZ0bWt2nt0le11MkU=|28749020|28878620|MEQCIA1c+TiKB8kSMTapMlvzJ0Q5ksTaNdu8gqg9+EqIZ2ZxAiB2OQFtg3j0UEEG/Cmz69PZrgDBFHxcPGV7heyqvk84wg==|cGljw5J9", "7|44|2c0555599650d1f675a59e56bec944abd2f38013608ec8be5e10017861b64f79|MEQCIEKlsq3x+vkVgzrsjMBxRhAwWDkm81fzlG9s+Mt1Br7UAiBYKdgcW9RQxWwzI35Go4euhtoZM+2LtjM/Pz6qvRiPTA==|x9XAuQ==|BJCQA44D1WROJYKqamnPPOMNVpbGKSWJDO1VzYJcc3eyWVvjCW0ZchWpr+iRZTC8yboKg60ZKgR+8Hf6BSE509o=|28749020|28878620|MEUCIDISu9t1lCKZr8eJtvsvethNDp21yRFcUoEMJ3xSixe6AiEAgXSh+zyCEoM2HJCtclZz5Sm0/KjfE4j6rSI3WgmNzuM=|r3rbUjYk", "44|24|a19a62a73661d580dd50364ce0932381d7d6eeaa9a6390c4bead55649a6f6429|MEUCIGlZbd6jF/9mmObLasY7iIL+A2A5+zVsyLVzp+uIc8q8AiEAhx/Qkp2qVDrhn0uMOgKJJy8USd1Xa1drgFv+/RwAxe4=|UaXxpA==|BA6ldHdwqjFEG2VgX96xSeq4V4JCyWolmB8neqsbhkOBjHk9SREG7prAkKzHhfLlwb46UNbck97CGQKjlOtiQho=|28749020|28878620|MEQCIFzhxyDHISX1tufH/e8GFor9kdDOUlcnnkFCgcXNQHluAiAtdQADKBiRnp3HMSjz3+u5xt923bSfQNfjQnkkKpPsmw==|4V9wmZFF", "32|34|32eda443081f220e452d8272982c2408737d86e845480d91ef0f532c835190a8|MEMCHyyenzMLbzF4diPJ9LwfBNfIWXW5/NCEUTrGFVRz+gICIBG8gZr2iWPZZ7AGr9iVKE3ickcN6R8tt0kpmlP+gHwD|jr9P1g==|BA+PNiv79L86Tc9kfKfLQmyzhah63gViMOTADVgWl8KFHaBA/5vb3QNLGkea2qCRa6rjGCsF4onmGLd6O8Njv9k=|28749020|28878620|MEQCICnGXchcQL8gstMQ9j4IIz0mCjUfv5dF4U0XwOVFFdAyAiALsfjw53dkpPI6x/VqEV6n+PygvGX2aHILk5/nx0t8RQ==|qmX1K5oW", "47|20|ec441323d65dc26af6d45995878c09dc2e60322b5d89b094b7a0b1a578b95135|MEQCIHTD06K5qJuAOsIfW3u0ZaKaPnZ9iQGUhlAHb5l1qFHZAiAdyFux+NdVnXHGej8I3a22JnAilLasBFQPbnH/MNxKIw==|LPybjg==|BKPcast2YQGJ82aWCNPIoSoQkuoeSAphzIYlbs8GaTTYQpug+VhZlMyd8JDJ00Ax/Quf/eO7aeCcp37qu8pg02c=|28749020|28878620|MEQCIGc95nEk/SB+FPpkjbNoK+F69tMRbyJPd1RlX8npG+zEAiBGa30FgoMDbU2vI6aUse77xZh/NSACVdDuw0pCE1zkvA==|BlHhsUCj", "26|38|fc3c4adca9be06181f50f261f84806c0103d8f106c0e294620e4119cca1428ab|MEUCIQCYbvg1I3wQ2PkwfkQI87lPhRBxFfXbNQ+SxsXae5EwHQIgJaDjCVaBNwxVwy2CRcdBPZ7EXn0okDiu7sTfih9JI68=|7zmaKg==|BCge4s2AZEr/Q+kPzwnFP+YpXa8ESey+b1m6LUTNCVV8mCTjsUg0pZq/vHHE96tW++P3ghHoxbc0Ee3vTvQTApE=|28749020|28878620|MEUCIQCdhV08ToJPI2luddSdZvFPTi/SrfG/+J0T3YCuPt4EJQIgGpI0mLGppm76wnHJX2dty+qJoysO6JoBFWnoplA4+lo=|AWCVeljK", "8|44|d78e3cf8feef8b410d0553dcfe7d8f75ae9fa925c47b7d5094f1162683b27b28|MEUCIQCGyxEn8Ur5nQ3Sdm3OP8Mn/anTvCVAsc6ekg0SX8gPVQIgWyG2759F2hy2eAUPmQJsUSNPwJQzeZavActhnIqbHSs=|Gho7NA==|BCuty1mrJVoqWvwJeUys7oSbgECq6pFS9wRHa4YZJqF2MIxunoDIbmaBSL46+JCWxWMR85GUl5kM9H60sQSFcd0=|28749020|28878620|MEQCID96/ymULcJhS1Id3/m4soD77rfF6rI+1H1EqJu8SB1vAiAZ0KD5GFIIfzklkflKRYmVP2eBx8vV61VYhqA1DRu2XQ==|cFMSxz55", "42|26|6228dfe4d70a3351e3e3be2b5419ef0853fc2e56990c161b099a6f82ab4cf180|MEUCIDa5Z1/qodjeta/uVRs2RvoOvgh4P27Dv4UVhAmulxvIAiEAjxVDuBzO3/LMGgOzOSyo7FvA9ZLWT5QfIEDQT/UymZk=|ADoSgg==|BEDHA+99n5vOvyTCWk3c+FOjrrzC/iyyZ0KrpQw8mTQ1QOLp5is4jl1du7V9VA6CFG8+RyZkGOkOia7tzU4rHf4=|28749020|28878620|MEQCID+pQQ8edz49a75/dtLz5vueh0WFhFmmWtXkS4w3Ejr9AiArARJA8Dh3Gha6yidgthd2HQgsAcNZGk8eMy8T+s+xIg==|F2Tuw5UI", "30|36|6e31e43e4f0f7eee49b8e3326d07c11e617b094be5b0712ff371316724f71959|MEQCIF+XQHAmqCcdxDzvFvx4aHn+0B12EnVCaZPhRumVHzWNAiBoYVvhaQYjuviiS3s2r5L2B5MXdF8Av8SwQ6s9nkUUYA==|VmdAXA==|BGF7AkBd+wLB0e9zDQYELtNSk2ldsvSibCljOce5YxyWQPe3ZAnectRPblfeqRywvlXdppRNqqhWoU+SaWCWs6E=|28749020|28878620|MEQCIDzpP90diF4QPJFYeBqXDSz+7xsaVXPF0Z35tnAFPEKbAiAFI+yCRhjxmTIKABaDtcWIM6tLiclmzXPTbS96evvEcg==|JN0aQHqG", "33|34|68e16b8ed5777182ce12fb9df6bdb00087138b22d5fc522bb790a91eaf421a43|MEQCIBSh2NZ8JU8DdU3akb+FpsWXPRUz6OXBbni2HvXp1QKIAiBtriYZoHJGSJMR/tXWibB7se/p9f1fHnSFd6hiS098mQ==|7VANZw==|BBReyNIDRmcm8QD8cj8SDRvl8a8f/bYiedNHG4mu56N0INufrLp2Dk/Qmkuu7DVgqCvi5aXY+NgJLmFjifSAqC0=|28749020|28878620|MEUCIQCfZ5bBfnnMrD4ZubxZyWWXGgb0eEoh2wRYSwhJ5TwMIQIgDJu2FU5JrzjtSaR6IglgD0GrlL+54I5nYR+w0hhpCnc=|GGraSyFC","37|30|5f959767b2668868f3fd44ffda35a364fe85cbff157845c53576d1ae17937f2f|MEQCIBtn64dgEWGyvxxli2B8jpLF63eMEW1vXZJoU9cTpOslAiB59/2r5xJnnGRp55Fs0bo0V3U9a3viteqtKGG64Z0s2Q==|GNotGQ==|BHuHVtJhA8hDr4a6Z1nKcQYJTMmYax3mjRo46P7mP1+vkSH5/D1TfB/8tThq2Sh9GFcA6LUcqRa9C6QGa7Bv+Gg=|28749020|28878620|MEQCIFu4whMd89Dmfxz5oDqq1OhHqPcgaiHP8gveF9BQWypZAiBsceueWTQcW3pTd0V6Z5lUqBaOT03pfoklDpdq9u9HqA==|ExODCoIV","1|45|d3273e8c2691becc61b5590e7d572f0df87834c682d6cd800075671b413d0e74|MEUCIQCV/yNVUZCUOYBRIXuBe9a8LJ+B5hTgVRJZQ4LMVteyzQIgGetSXYYWWIWKZQeiZMrynz31OXJ25DmL25bgxM9n2pE=|uW7vGg==|BDM9hmtbqzT/jrI4pcXdt0DRekQkd7StsnCD2enLXLW+grYt/6DStos8Ag6lKOCVdfinn3UVC9bEtsAW3F9WKWg=|28749020|28878620|MEUCIGpV3bT8ToKrIkXAttBB7kGc0Lwil5wcl8Tr8UXqpobxAiEAjSXgZy+CnIwmF2+AXk6BNKQRWNVklFd1bYtirLyA9UA=|CHACPYCu","28|38|0ba6501e9e1e4c8627313c8f41601df6729a6ead07f470058334761191614e89|MEQCIG32CRZhB2etco9zgEtme1dSS8AUIily2ZeTnfXeSc6gAiB8s0NdAMk2IWOtlo3Xp2Xa9gqIJ13ZmvBnEGw1r7nn8g==|Wa0qlg==|BFbYthCzOKNZY5+/8wr8BmblLR18qCLvH470XHopXR/0mLdzASm1OPCg+eV5NJw7GkuWvhXAF/nAL52LpX1nJ2I=|28749020|28878620|MEQCIBopSuIRaGI1zNNblgTf7sq5Kob3XGZWYD++PycJ71+fAiBOK8mpUi3ugcaSfoOUoQeH63vtPF6UlVIBiiGryyPm0g==|xjjqY6s5","39|29|e9f6e48168c89ced76c71e2d2454c3eeff5141f545b1030fb15bfe904c527898|MEUCICuDtajtTdIjYRqih4Rq4Ow8vMjjDU1/ocjye5ZWZA98AiEAje3cxsTRHkdxycJ/Y7/2ReK1AzO+m8coKeo2vftDiD0=|SbfFzg==|BKB/w0RTZaM6EnkvCJ3AULlXnqIm7QnRsl4U8VbjSM2tOTAP2+hTO9Bq0CIMuyiptDFZO2UCzJqBECaJrcQMTKs=|28749020|28878620|MEQCIADX5PTEibGsIbomAyyERV7F5GOcW4vw2aUFtG6UVSt4AiAk6E89LYGyRSXSM5DHG168fsY7fK2CcfzKWUiBLejjSw==|GN9DnVmQ","11|45|48f2966b58b8e6112d8c85e1cd5088dd58f2e0000a11003c181e8fdc2e4fbec6|MEQCIGEChqOT2WYS2kDVvNRiTPrR3duDSeGHtLT4y1Ingwd2AiAC5jgHtCAXcBcOrATC2El39MPusNsps1l8NfLB1+NTLw==|bcPlcg==|BHA/C6YZV6BJcnwLu+Jr7OEsfEuG75W1mwX6yUWUjkLgl/MhKOPAMcPAGrOeFoEVFvhnz9ruaV7ryuV8DRLOXno=|28749020|28878620|MEQCIHvkCczj9km71ydd3iwJ8r7S24ZghWrMNRVAR0wkosndAiA+I0lwDaFELmoo5gjpUG1dBT66TAYXIDG8L1C34C10yQ==|W0JyfEZw","0|45|d3273e8c2691becc61b5590e7d572f0df87834c682d6cd800075671b413d0e74|MEUCIQCFjqkRBAITpi4cmKWBexegEfzVKXRBJK46COjIrZZLWwIgHcNyJvvqzcts71wZkptPuE+GmGfys883fNACDAjKGoA=|GRZSzg==|BFbqTzsZkspTP0T6HkL2Rm6CcOEqw0yzMsjuMeBTQqIoTCS7z/SxCJzqFOzOI7TkqROLJmrv30WXg+d2FwbXRA4=|28749020|28878620|MEQCIHTvCDItny6kYk/AoCbwGTAJOAywGZo7UTuhjJB5ZosdAiAP9vesbTTb9+m07UBUf1OzC/5RxV78Xb6uzq6y6M2Hpg==|CHACPYCu"};
        struct HashTable_PC* ht;
        ht = hash_table_new();
        int flag=0;
	struct timespec time1,time2;
	int i=0;
	double latency = 0;
        while(1)
        {
		clock_gettime(CLOCK_REALTIME, &time1);
		flag = message_process(msg_temp[i], ht);
		clock_gettime(CLOCK_REALTIME, &time2);
		latency = (time2.tv_sec - time1.tv_sec)*THOUSAND +  (time2.tv_nsec - time1.tv_nsec)/MILLION;
		printf("%f\n",latency);
		i += 1;
		sleep(1);
		if(i==20)
		{
			i = 0;
		}
        }
        //flag = message_process(msg_temp, ht);
}
